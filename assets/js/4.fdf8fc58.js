(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{284:function(e,a,t){e.exports=t.p+"assets/img/macrecovery.af5c41c1.png"},285:function(e,a,t){e.exports=t.p+"assets/img/download-done.05d30da0.png"},306:function(e,a,t){e.exports=t.p+"assets/img/unknown-13.2dca606f.png"},434:function(e,a,t){e.exports=t.p+"assets/img/unknown-5.0cee0d3a.png"},435:function(e,a,t){e.exports=t.p+"assets/img/unknown-6.c65407b2.png"},436:function(e,a,t){e.exports=t.p+"assets/img/unknown-8.21d65816.png"},437:function(e,a,t){e.exports=t.p+"assets/img/unknown-9.d7a601da.png"},438:function(e,a,t){e.exports=t.p+"assets/img/unknown-11.0cee0d3a.png"},439:function(e,a,t){e.exports=t.p+"assets/img/unknown-12.c65407b2.png"},440:function(e,a,t){e.exports=t.p+"assets/img/unknown-14.21d65816.png"},441:function(e,a,t){e.exports=t.p+"assets/img/unknown-15.4ec42b10.png"},442:function(e,a,t){e.exports=t.p+"assets/img/unknown-16.a34cfc74.png"},443:function(e,a,t){e.exports=t.p+"assets/img/unknown-17.d7a601da.png"},444:function(e,a,t){e.exports=t.p+"assets/img/unknown-18.4d8a1388.png"},445:function(e,a,t){e.exports=t.p+"assets/img/unknown-20.7e0e5028.png"},446:function(e,a,t){e.exports=t.p+"assets/img/unknown-21.04611101.png"},603:function(e,a,t){"use strict";t.r(a);var s=t(10),r=Object(s.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"在-linux-中製作安裝程式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在-linux-中製作安裝程式"}},[e._v("#")]),e._v(" 在 Linux 中製作安裝程式")]),e._v(" "),a("p",[e._v("雖然你不需要重新安裝 macOS 來使用 OpenCore，但一些用戶更喜歡升級開機管理器後帶來的全新體驗。")]),e._v(" "),a("p",[e._v("在開始之前，你需要準備以下東西：")]),e._v(" "),a("ul",[a("li",[e._v("4GB 的 USB 隨身碟")]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/acidanthera/OpenCorePkg/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("macrecovery.py"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"下載-macos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下載-macos"}},[e._v("#")]),e._v(" 下載 macOS")]),e._v(" "),a("p",[e._v("首先 cd 到"),a("a",{attrs:{href:"https://github.com/acidanthera/OpenCorePkg/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("macrecovery 的資料夾"),a("OutboundLink")],1),e._v(" 並執行以下其中一個命令：")]),e._v(" "),a("p",[a("img",{attrs:{src:t(284),alt:""}})]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Adjust below command to the correct folder")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~/Downloads/OpenCore-0/Utilities/macrecovery/\n")])])]),a("p",[e._v("現在根據你想要的 macOS 版本執行以下其中一個命令：")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Lion (10.7):")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-2E6FAB96566FE58C "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000F25Y00 download\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-C3EC7CD22292981F "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000F0HM00 download\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Mountain Lion (10.8):")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-7DF2A3B5E5D671ED "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000F65100 download\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Mavericks (10.9):")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-F60DEB81FF30ACF6 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000FNN100 download\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Yosemite (10.10):")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-E43C1C25D4880AD6 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000GDVW00 download\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# El Capitan (10.11):")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-FFE5EF870D7BA81A "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000GQRX00 download\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Sierra (10.12):")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-77F17D7DA9285301 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000J0DX00 download\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# High Sierra (10.13)")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-7BA5B2D9E42DDD94 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000J80300 download\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-BE088AF8C5EB4FA2 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000J80300 download\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Mojave (10.14)")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-7BA5B2DFE22DDD8C "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000KXPG00 download\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Catalina (10.15)")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-00BE6ED71E35EB86 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000000000 download\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Big Sur (11)")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-42FD25EABCABB274 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000000000 download\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Monterey (12)")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-FFE5EF870D7BA81A "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000000000 download\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 最新版本")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ie. Ventura (13)")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-4B682C642B45593E "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000000000 download\n")])])]),a("p",[e._v("现在，在終端中執行上面其中一個命令，完成後你將得到類似於下面的內容:")]),e._v(" "),a("p",[a("img",{attrs:{src:t(285),alt:""}})]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("注意")]),e._v(": 根據操作系統的不同，您將取得 BaseSystem 或 RecoveryImage 檔案。它們以相同的方式工作，所以當我們引用 BaseSystem 時，相同的資訊同時適用於 RecoveryImage")])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("macOS 12 及以上版本注意")]),e._v(": 由於最新版本的 macOS 對 USB 堆棧進行了更改，因此在安裝 macOS 之前，強烈建議你使用 USBToolBox 來映射 USB 連接埠。")]),e._v(" "),a("ul",[a("li",[a("span",{staticStyle:{color:"red"}},[e._v(" 注意: ")]),e._v(" 在 macOS 11.3 及更新版本中，"),a("a",{attrs:{href:"https://github.com/dortania/bugtracker/issues/162",target:"_blank",rel:"noopener noreferrer"}},[e._v("XhciPortLimit 己經失效，導致開機循環"),a("OutboundLink")],1),e._v(".\n"),a("ul",[a("li",[e._v("如果你已"),a("a",{attrs:{href:"https://sumingyd.github.io/OpenCore-Post-Install/usb/",target:"_blank",rel:"noopener noreferrer"}},[e._v("映射 USB 連接埠"),a("OutboundLink")],1),e._v("且停用了 "),a("code",[e._v("XhciPortLimit")]),e._v("，你可以正常啟動 macOS 11.3+。")])])])])])]),e._v(" "),a("h2",{attrs:{id:"製作安裝程式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#製作安裝程式"}},[e._v("#")]),e._v(" 製作安裝程式")]),e._v(" "),a("p",[e._v("本章節的目標是在 USB 隨身碟中建立必要的分區。你可以使用你最喜歡的程式，例如 "),a("code",[e._v("gdisk")]),e._v(" "),a("code",[e._v("fdisk")]),e._v(" "),a("code",[e._v("parted")]),e._v(" "),a("code",[e._v("gparted")]),e._v(" 或 "),a("code",[e._v("gnome-disks")]),e._v("。本指南將重點介紹 "),a("code",[e._v("gdisk")]),e._v(" ，因為它很好，可以在稍後更改分區類型，因為我們需要它來引導 macOS Recovery HD。（這裡使用的發行版是 Ubuntu 18.04，其他版本或發行版也可以）")]),e._v(" "),a("p",[e._v("感謝 "),a("a",{attrs:{href:"https://github.com/midi1996",target:"_blank",rel:"noopener noreferrer"}},[e._v("midi1996"),a("OutboundLink")],1),e._v(" 為 "),a("a",{attrs:{href:"https://midi1996.github.io/hackintosh-internet-install-gitbook/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Internet 安裝指南"),a("OutboundLink")],1),e._v(" 所做的工作。")]),e._v(" "),a("h3",{attrs:{id:"方法-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法-1"}},[e._v("#")]),e._v(" 方法 1")]),e._v(" "),a("p",[e._v("在終端:")]),e._v(" "),a("ol",[a("li",[e._v("執行 "),a("code",[e._v("lsblk")]),e._v(" 並確定你的 USB 隨身碟區塊\n"),a("img",{attrs:{src:t(434),alt:"lsblk"}})]),e._v(" "),a("li",[e._v("執行 "),a("code",[e._v("sudo gdisk /dev/<你的隨身碟區塊>")]),e._v(" "),a("ol",[a("li",[e._v("如果你被問到使用什麼分區表，選擇 GPT。\n"),a("img",{attrs:{src:t(435),alt:"Select GPT"}})]),e._v(" "),a("li",[e._v("輸入 "),a("code",[e._v("p")]),e._v(" 來列出你的區塊的磁碟區（並驗證它是否為需要的磁碟區）\n"),a("img",{attrs:{src:t(306),alt:""}})]),e._v(" "),a("li",[e._v("輸入 "),a("code",[e._v("o")]),e._v(" 來清除分區表，並建立一個新的 GPT 表（如果不是空的）\n"),a("ol",[a("li",[e._v("輸入 "),a("code",[e._v("y")]),e._v(" 確認\n"),a("img",{attrs:{src:t(436),alt:""}})])])]),e._v(" "),a("li",[e._v("輸入 "),a("code",[e._v("n")]),e._v(" "),a("ol",[a("li",[a("code",[e._v("partition number")]),e._v("：預設為空")]),e._v(" "),a("li",[a("code",[e._v("first sector")]),e._v("：預設為空")]),e._v(" "),a("li",[a("code",[e._v("last sector")]),e._v("：整個磁碟保持空白")]),e._v(" "),a("li",[a("code",[e._v("Hex code or GUID")]),e._v("："),a("code",[e._v("0700")]),e._v("（Microsoft 基本資料分區類型）")])])]),e._v(" "),a("li",[e._v("輸入 "),a("code",[e._v("w")]),e._v(" "),a("ul",[a("li",[e._v("輸入 "),a("code",[e._v("y")]),e._v(" 確認\n"),a("img",{attrs:{src:t(437),alt:""}})]),e._v(" "),a("li",[e._v("在某些罕有的情況下需要重啟電腦，但如果你想確定的話，重啟你的電腦。你也可以嘗試重新插入你的隨身碟。")])])]),e._v(" "),a("li",[e._v("輸入 "),a("code",[e._v("q")]),e._v(" 來關閉 "),a("code",[e._v("gdisk")]),e._v("（通常它應該自已結束）")])])]),e._v(" "),a("li",[e._v("使用 "),a("code",[e._v("lsblk")]),e._v(" 來確定磁碟區的標識符")]),e._v(" "),a("li",[e._v("執行 "),a("code",[e._v('sudo mkfs.vfat -F 32 -n "OPENCORE" /dev/<你的隨身碟區塊>')]),e._v(" 格式化隨身碟為 FAT32 並命名為 OPENCORE")]),e._v(" "),a("li",[a("code",[e._v("cd")]),e._v(" 到 "),a("code",[e._v("/OpenCore/Utilities/macrecovery/")]),e._v(" 你應該得到一個 "),a("code",[e._v(".dmg")]),e._v(" 和 "),a("code",[e._v(".chunklist")]),e._v(" 檔案\n"),a("ol",[a("li",[e._v("輸入 "),a("code",[e._v("udisksctl")]),e._v("（"),a("code",[e._v("udisksctl mount -b /dev/<你的隨身碟區塊>")]),e._v("，在大多數情況下不需要 sudo）或 "),a("code",[e._v("mount")]),e._v(" ("),a("code",[e._v("sudo mount /dev/<你的隨身碟區塊> /where/your/mount/stuff")]),e._v("，必需 sudo) 掛載您的隨身碟磁碟區")]),e._v(" "),a("li",[a("code",[e._v("cd")]),e._v(" 到你的 USB 隨身碟和在 FAT32 隨身碟磁碟區的根目錄下的 "),a("code",[e._v("mkdir com.apple.recovery.boot")])]),e._v(" "),a("li",[e._v("現在 "),a("code",[e._v("cp")]),e._v(" 或 "),a("code",[e._v("rsync")]),e._v(" 將 "),a("code",[e._v("BaseSystem.dmg")]),e._v(" 和 "),a("code",[e._v("BaseSystem.chunklist")]),e._v(" 放到 "),a("code",[e._v("com.apple.recovery.boot")]),e._v(" 資料夾.")])])])]),e._v(" "),a("h3",{attrs:{id:"方法-2-若方法-1-不起作用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法-2-若方法-1-不起作用"}},[e._v("#")]),e._v(" 方法 2 (若方法 1 不起作用)")]),e._v(" "),a("p",[e._v("在終端:")]),e._v(" "),a("ol",[a("li",[e._v("執行 "),a("code",[e._v("lsblk")]),e._v(" 並確定你的 USB 隨身碟區塊\n"),a("img",{attrs:{src:t(438),alt:""}})]),e._v(" "),a("li",[e._v("執行 "),a("code",[e._v("sudo gdisk /dev/<你的隨身碟區塊>")]),e._v(" "),a("ol",[a("li",[e._v("如果你被問到使用什麼分區表，選擇 GPT。\n"),a("img",{attrs:{src:t(439),alt:""}})]),e._v(" "),a("li",[e._v("輸入 "),a("code",[e._v("p")]),e._v(" 來列出你的區塊的磁碟區（並驗證它是否為需要的磁碟區）\n"),a("img",{attrs:{src:t(306),alt:""}})]),e._v(" "),a("li",[e._v("輸入 "),a("code",[e._v("o")]),e._v(" 來清除分區表，並建立一個新的 GPT 表（如果不是空的）\n"),a("ol",[a("li",[e._v("輸入 "),a("code",[e._v("y")]),e._v(" 確認\n"),a("img",{attrs:{src:t(440),alt:""}})])])]),e._v(" "),a("li",[e._v("輸入 "),a("code",[e._v("n")]),e._v(" "),a("ol",[a("li",[e._v("partition number：預設為空")]),e._v(" "),a("li",[e._v("first sector：預設為空")]),e._v(" "),a("li",[e._v("last sector："),a("code",[e._v("+200M")]),e._v(" 來建立一個 200MB 的磁碟區，稍後將命名為 OPENCORE")]),e._v(" "),a("li",[e._v("Hex code or GUID："),a("code",[e._v("0700")]),e._v("（Microsoft 基本資料分區類型）\n"),a("img",{attrs:{src:t(441),alt:""}})])])]),e._v(" "),a("li",[e._v("輸入 "),a("code",[e._v("n")]),e._v(" "),a("ol",[a("li",[e._v("partition number: 預設為空")]),e._v(" "),a("li",[e._v("first sector: 預設為空")]),e._v(" "),a("li",[e._v("last sector: 保持預設（如果你想進一步劃分隨身碟的其餘部分，可以將其設為「+3G」）")]),e._v(" "),a("li",[e._v("Hex code or GUID: "),a("code",[e._v("af00")]),e._v("（蘋果 HFS/HFS+ 分區類型）\n"),a("img",{attrs:{src:t(442),alt:""}})])])]),e._v(" "),a("li",[e._v("輸入 "),a("code",[e._v("w")]),e._v(" "),a("ul",[a("li",[e._v("輸入 "),a("code",[e._v("y")]),e._v(" 確認\n"),a("img",{attrs:{src:t(443),alt:""}})]),e._v(" "),a("li",[e._v("在某些罕有的情況下需要重啟電腦，但如果你想確定的話，重啟你的電腦。你也可以嘗試重新插入你的隨身碟。")])])]),e._v(" "),a("li",[e._v("輸入 "),a("code",[e._v("q")]),e._v(" 來關閉 "),a("code",[e._v("gdisk")]),e._v("（通常它應該自已結束）")])])]),e._v(" "),a("li",[e._v("再次使用 "),a("code",[e._v("lsblk")]),e._v(" 來確定 200MB 磁碟區和其他磁碟區\n"),a("img",{attrs:{src:t(444),alt:""}})]),e._v(" "),a("li",[e._v("執行 "),a("code",[e._v('sudo mkfs.vfat -F 32 -n "OPENCORE" /dev/<你的 200MB 磁碟區塊>')]),e._v(" 將 200MB 分區格式化為 FAT32，並命名為 OPENCORE")]),e._v(" "),a("li",[a("code",[e._v("cd")]),e._v(" 到 "),a("code",[e._v("/OpenCore/Utilities/macrecovery/")]),e._v(" 你應該得到一個 "),a("code",[e._v(".dmg")]),e._v(" 和 "),a("code",[e._v(".chunklist")]),e._v(" 檔案\n"),a("ol",[a("li",[e._v("輸入 "),a("code",[e._v("udisksctl")]),e._v("（"),a("code",[e._v("udisksctl mount -b /dev/<你的隨身碟區塊>")]),e._v("，在大多數情況下不需要 sudo）或 "),a("code",[e._v("mount")]),e._v(" ("),a("code",[e._v("sudo mount /dev/<你的隨身碟區塊> /where/your/mount/stuff")]),e._v("，必需 sudo) 掛載您的隨身碟磁碟區")]),e._v(" "),a("li",[a("code",[e._v("cd")]),e._v(" 到你的隨身碟，並在你的隨身碟的 FAT32 磁碟區根目錄輸入 "),a("code",[e._v("mkdir com.apple.recovery.boot")])]),e._v(" "),a("li",[e._v("下載 "),a("code",[e._v("dmg2img")]),e._v("（在大多數發行版上可用）")]),e._v(" "),a("li",[e._v("執行 "),a("code",[e._v("dmg2img -l BaseSystem.dmg")]),e._v(" 並確定哪個磁碟區區具有 "),a("code",[e._v("disk image")]),e._v(" 屬性\n"),a("img",{attrs:{src:t(445),alt:""}})]),e._v(" "),a("li",[e._v("執行 "),a("code",[e._v("sudo dmg2img -p <the partition number> BaseSystem.dmg /dev/<你的 3GB+ 磁碟區塊>")]),e._v(" 來提取恢復映像並將其寫入磁碟區\n"),a("ul",[a("li",[e._v("這需要一些時間。尤其是你用的是速度較慢的 USB（我用一個速度較快的 USB 2.0 隨身碟只花了不到 5 分鐘）。\n"),a("img",{attrs:{src:t(446),alt:""}})])])])])])]),e._v(" "),a("h2",{attrs:{id:"現在-所有步驟都完成了-前往設定-efi-來完成你的工作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#現在-所有步驟都完成了-前往設定-efi-來完成你的工作"}},[e._v("#")]),e._v(" 現在，所有步驟都完成了，前往"),a("RouterLink",{attrs:{to:"/installer-guide/opencore-efi.html"}},[e._v("設定 EFI")]),e._v(" 來完成你的工作")],1)])}),[],!1,null,null,null);a.default=r.exports}}]);